<UserControl x:Class="NetVox.UI.Views.AudioSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="Auto" Width="Auto"
             Loaded="AudioSettingsView_Loaded">

    <!-- Local field styles to keep inputs clean and consistent -->
    <UserControl.Resources>
        <Style x:Key="FieldTextBox" TargetType="TextBox">
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="220"/>
        </Style>
        <Style x:Key="FieldCombo" TargetType="ComboBox">
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="220"/>
            <Setter Property="IsTextSearchEnabled" Value="False"/>
        </Style>
    </UserControl.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Content -->
        <StackPanel Grid.Row="0" Orientation="Vertical">

            <!-- Section: Audio Settings -->
            <GroupBox Header="Audio Settings" Margin="0,0,0,10">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Encoding:"/>
                    <ComboBox x:Name="ComboEncoding" Grid.Row="0" Grid.Column="1" Style="{StaticResource FieldCombo}"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="Audio Jitter Buffer (ms):"/>
                    <TextBox x:Name="TxtJitterMs" Grid.Row="1" Grid.Column="1" Style="{StaticResource FieldTextBox}" Text="60"/>

                    <CheckBox x:Name="ChkFullDuplex" Grid.Row="2" Grid.Column="1" Margin="5,8,0,0" Content="Full Duplex Sound"/>
                </Grid>
            </GroupBox>

            <!-- Section: Playback -->
            <GroupBox Header="Playback" Margin="0,0,0,10">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Output audio device:"/>
                    <ComboBox x:Name="ComboOutputDevice" Grid.Row="0" Grid.Column="1" Style="{StaticResource FieldCombo}"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="Sample rate (Hz):"/>
                    <ComboBox x:Name="ComboPlaybackRate" Grid.Row="1" Grid.Column="1" Style="{StaticResource FieldCombo}"/>
                </Grid>
            </GroupBox>

            <!-- Section: Capture -->
            <GroupBox Header="Capture" Margin="0,0,0,10">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Input audio device:"/>
                    <ComboBox x:Name="ComboInputDevice" Grid.Row="0" Grid.Column="1" Style="{StaticResource FieldCombo}"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="Sample rate (Hz):"/>
                    <ComboBox x:Name="ComboCaptureRate" Grid.Row="1" Grid.Column="1" Style="{StaticResource FieldCombo}"/>
                </Grid>
            </GroupBox>

            <!-- Section: Tips (bottom, consistent with other tabs) -->
            <Border Padding="10" Background="#F8F8F8" BorderBrush="#DDD" BorderThickness="1">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="TxtAudioTips"
                               TextWrapping="Wrap"
                               FontSize="13"
                               Foreground="#333"
                               Text="Select encoding and jitter buffer. Choose output/input devices and sample rates. Full Duplex allows simultaneous capture and playback."/>
                </ScrollViewer>
            </Border>
        </StackPanel>

        <!-- Apply button -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button x:Name="BtnApply" Content="Apply" Width="100"/>
        </StackPanel>
    </Grid>
</UserControl>
